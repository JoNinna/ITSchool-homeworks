Linux Core


Comenzi Utile

Clonati acest document. √én box-urile goale completati cu rezolvarile voastre (comenzi folosite). Dati apoi share la document si trimiteti-l pe discord in mesaj direct (nu pe grup).

Exercitiul 1: Useri si permisiuni

Cerinta 1: Ave»õi o echipa formatƒÉ din 3 membrii: alice, bob si charlie. 
Creati acesti 3 useri. Da»õi switch la fiecare user si verificati ca a fost creat cu success.
Am creat un script de bash adduser.sh care creaza userii pe baza comenzii sudo adduser $user 
Dupa am rular chmod +x adduser.sh si ./adduser.sh
Dat fiind ca parola noilor utilizatori este null, am rulat sudo su pentru ca mai apoi sa ma loghez pe noii useri fara a avea nevoie de parola prin su - user

Cerinta 2: √én echipa avem 2 roluri: developer si tester. 
Creati 2 grupuri numite ‚Äúdevelopers‚Äù si ‚Äútesters‚Äù.
sudo groupadd developer
sudo groupadd tester
# Mai exista si comanda addgroup care face cam acelasi lucuru
√én grupul de developers ii avem pe alice si pe bob iar in grupul testers pe bob si charlie (bob este in 2 grupuri).
sudo usermod -aG developer alice
sudo usermod -aG developer bob
sudo usermod -aG tester bob
sudo usermod -aG tester charlie 
Verificati pentru fiecare user cƒÉ este √Æn grupurile corecte folosind comanda id sau groups.
ninna@ninna-QEMU-Virtual-Machine:~/work/ITSchool-homeworks/Linux-HW1$ groups alice 
alice : alice users developer
ninna@ninna-QEMU-Virtual-Machine:~/work/ITSchool-homeworks/Linux-HW1$ groups bob
bob : bob users developer tester
ninna@ninna-QEMU-Virtual-Machine:~/work/ITSchool-homeworks/Linux-HW1$ groups charlie
charlie : charlie users tester
sau folosind comanda cat /etc/group

Cerinta 3: Fiecare role poate accesa doar anumite directoare ale proiectului.
Crea»õi 2 directoare numite /developers si /testers in radacina sistemului de fisiere. 
mkdir /developers si mkdir /testers
√én fiecare director pot scrie doar userii grupului respectiv, dar poate citi »ôi executa oricine. 
Verificati permisiunile directoarelor folosind comanda ls.  
sudo chown :developer developers/
sudo chown :tester testers/
sudo chmod 775 developers/
sudo chmod 775 testers/

Cerinta 4: Dati switch la userul alice si creati un fisier cu numele script.sh in directorul /developers. 
In script puneti: echo "Salut"
Dati permisiuni de execu»õie pentru toata lumea pe acest fi»ôier, dar de modificare doar pentru grupul developers.
Verificati ca to»õi userii pot executa acest fi»ôier, dar doar useri din grupul developers √Æl pot modifica.
chmod 575 script.sh

Cerinta 5: √én timp membrii celor 2 echipe au fost comansati √Æntr-o singura echipa numita ‚Äútech‚Äù.
Creati un nou group numit ‚Äútech‚Äù.
sudo groupadd tech
Muta»õi group owner-ul pentru toate fi»ôierele din directorul /developers si /testers la grupul ‚Äútech‚Äù.
sudo chown -R :tech /developers/
sudo chown -R :tech /testers/
Stergeti grupurile developers si testers.
sudo groupdel developer
sudo groupdel tester
Verificati ca √ÆncƒÉ mai pute»õi edita/rula scripturile cu userul charlie.
su - charlie
/developers/script.sh

Exercitiul 2: Pipelines si Fluxuri de date

Rezolva»õi urmƒÉtoarele cerin»õe folosind operatorul pipe |. 


Cerinta 1: GƒÉse»ôte toate liniile de log de sistem care contin cuvantul error, indiferent de majuscule. 
Hint: Vezi  /var/log/syslog





Cerinta 2: GƒÉse»ôte utilizatorii care au setat ca default shell /bin/bash. C√¢»õi utilizatori nu folosesc acest shell? 
Hint: Lista de utilizatori o gasiti in /etc/passwd





Cerinta 3: Afi»ôa»õi primele »ôi ultimele 5 comenzi utilizate de voi. 
Hint: history, head, tail





Cerinta 4. √éncerca»õi sƒÉ crea»õi un user fara drepturi de sudo. Cum putem sa ignoram erorile de permisiuni (a.i. acestea sa nu mai apara in consola)?



Cerinta 5: Afi»ôa»õi toate comenzile rulate (cu succes) cu sudo de toti userii.
Hint: /var/log/auth.log

Cerinta 6: Downloadati fisierul app-1.log folosind comanda wget fisierul:
https://raw.githubusercontent.com/amihai/devops/refs/heads/main/python/log-generator/app-1.log 

Explora»õi pu»õin continutul fisierului: afisati primele si ultimele 5 linii si cate linii are fi»ôierul




Cerinta 7: Ce useri au erori deoarece le-a expirat tokenul (NU Permission denied).



Cerinta 8 (bonus): Incercati sa extrageti in fisiere txt separate urmatoarele informatii din logurile de mai sus:
Lista cu numele unice ale tuturor userilor ce au avut cel putin o eroare
Lista de request_id-uri unice.
Ce request_id-uri nu au nicio eroare 
Hint: incercati sa folositi comenzile: awk, sort, uniq 
 




Exercitiul 3: Procese

Cerinta 1: Porniti un process ce ruleaza comanda sleep Infinity intr-un terminal. Deschide»õi alt terminal »ôi terminati cu eliberare de resurse procesul (graceful).




Cerinta 2: Downloadati urmƒÉtorul script folosind comanda wget:
 https://raw.githubusercontent.com/amihai/devops/refs/heads/main/linux/die-hard.sh
Da-ti permisiuni de execu»õie pe el si rulati-l.
Omorati programul. üôÇ




Cerinta 3: Deschideti un tab de firefox. CƒÉuta»õi procesul si terminati-l.




Cerinta 4: Care sunt PID-urile primele 5 programe ca utilizare de CPU. Dar ca memorie RAM. 
Hint: Puteti utiliza comanda top sau ps cu sort dupa memorie.




Cerinta 5: Cate procese are pornite userul curent? Dar root?




Cerinta 6: Downloadati scriptul urmƒÉtor si dati-i permisiuni de execu»õie:
https://raw.githubusercontent.com/amihai/devops/refs/heads/main/linux/run-forever.sh
Rulati scriptul in background in asa fel incat daca se inchide terminalul sa nu se omoare si scriptul. Redirectati outputul scriptului catre un fisier de log cu numele run-forever.log
Omorati terminalul si verificati ca scriptul √ÆncƒÉ ruleazƒÉ folosind comanda ps si folosind tail -f pe fisierul de loguri.
Omorati scriptul si verificati ca a fost oprit.



